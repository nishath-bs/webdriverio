import Transport from 'winston-transport';
const LOG_LEVELS = {
    INFO: 'INFO', ERROR: 'ERROR', DEBUG: 'DEBUG', TRACE: 'TRACE', WARN: 'WARN',
};
class logPatcher extends Transport {
    constructor(opts) {
        super(opts);
    }
    logToTestOps = (level = LOG_LEVELS.INFO, message = ['']) => {
        process.emit(`bs:addLog:${process.pid}`, {
            timestamp: new Date().toISOString(),
            level: level.toUpperCase(),
            message: `"${message.join(', ')}"`,
            kind: 'TEST_LOG',
            http_response: {}
        });
    };
    /* Patching this would show user an extended trace on their cli */
    trace = (...message) => {
        this.logToTestOps(LOG_LEVELS.TRACE, message);
    };
    debug = (...message) => {
        this.logToTestOps(LOG_LEVELS.DEBUG, message);
    };
    info = (...message) => {
        this.logToTestOps(LOG_LEVELS.INFO, message);
    };
    warn = (...message) => {
        this.logToTestOps(LOG_LEVELS.WARN, message);
    };
    error = (...message) => {
        this.logToTestOps(LOG_LEVELS.ERROR, message);
    };
    log = (...message) => {
        this.logToTestOps(LOG_LEVELS.INFO, message);
    };
}
export default logPatcher;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nUGF0Y2hlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9sb2dQYXRjaGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sU0FBUyxNQUFNLG1CQUFtQixDQUFBO0FBRXpDLE1BQU0sVUFBVSxHQUFHO0lBQ2YsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTTtDQUM3RSxDQUFBO0FBRUQsTUFBTSxVQUFXLFNBQVEsU0FBUztJQUM5QixZQUFZLElBQVM7UUFDakIsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFBO0lBQ2YsQ0FBQztJQUVELFlBQVksR0FBRyxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUMsSUFBSSxFQUFFLE9BQU8sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDdEQsT0FBTyxDQUFDLElBQWlCLENBQUMsYUFBYSxPQUFPLENBQUMsR0FBRyxFQUFFLEVBQUU7WUFDbkQsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFO1lBQ25DLEtBQUssRUFBRSxLQUFLLENBQUMsV0FBVyxFQUFFO1lBQzFCLE9BQU8sRUFBRSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUc7WUFDbEMsSUFBSSxFQUFFLFVBQVU7WUFDaEIsYUFBYSxFQUFFLEVBQUU7U0FDcEIsQ0FBQyxDQUFBO0lBQ04sQ0FBQyxDQUFBO0lBRUQsa0VBQWtFO0lBQ2xFLEtBQUssR0FBRyxDQUFDLEdBQUcsT0FBWSxFQUFFLEVBQUU7UUFDeEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFBO0lBQ2hELENBQUMsQ0FBQTtJQUVELEtBQUssR0FBRyxDQUFDLEdBQUcsT0FBVyxFQUFFLEVBQUU7UUFDdkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFBO0lBQ2hELENBQUMsQ0FBQTtJQUVELElBQUksR0FBRyxDQUFDLEdBQUcsT0FBWSxFQUFFLEVBQUU7UUFDdkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFBO0lBQy9DLENBQUMsQ0FBQTtJQUVELElBQUksR0FBRyxDQUFDLEdBQUcsT0FBWSxFQUFFLEVBQUU7UUFDdkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFBO0lBQy9DLENBQUMsQ0FBQTtJQUVELEtBQUssR0FBRyxDQUFDLEdBQUcsT0FBWSxFQUFFLEVBQUU7UUFDeEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFBO0lBQ2hELENBQUMsQ0FBQTtJQUVELEdBQUcsR0FBRyxDQUFDLEdBQUcsT0FBVyxFQUFFLEVBQUU7UUFDckIsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFBO0lBQy9DLENBQUMsQ0FBQTtDQUNKO0FBQ0QsZUFBZSxVQUFVLENBQUEifQ==